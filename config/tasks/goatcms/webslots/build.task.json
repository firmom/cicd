{
  "name": "BuildGoatcmsWebslots",
  "entrypoint": true,
  "extends": ["CloneGoatcmsWebslots"],
  "locks": ["data/code/goatcms/webslots:deploy"],
  "executor": "onlylast",
  "trigger": ["DeployGoatcmsWebslots"],
  "script": {
    "cwd": "data/code/goatcms/webslots",
    "commands": [{
      "command": "goatcli",
      "args": ["build"]
    }, {
      "command": "dep",
      "args": ["ensure"]
    }, {
      "command": "go",
      "args": ["test", "./slotsapp/..."]
    }, {
      "command": "docker",
      "args": ["build", ".", "-t", "goatcms/beerpoly"]
    }]
  }
}
