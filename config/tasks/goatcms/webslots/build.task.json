{
  "name": "BuildGoatcmsWebslots",
  "entrypoint": true,
  "extends": ["CloneGoatcmsWebslots"],
  "locks": ["/go/src/github.com/goatcms/webslots:clone"],
  "executor": "onlylast",
  "trigger": ["DeployGoatcmsWebslots"],
  "script": {
    "cwd": "/go/src/github.com/goatcms/webslots",
    "commands": [{
      "cwd": ".",
      "command": "sh",
      "args": ["-x", "config/tasks/goatcms/webslots/build-secrets.sh"]
    }, {
      "command": "goatcli",
      "args": ["build"]
    }, {
      "command": "dep",
      "args": ["ensure"]
    }, {
      "command": "go",
      "args": ["test", "./slotsapp/..."]
    }, {
      "command": "docker",
      "args": ["build", ".", "-t", "goatcms/webslots"]
    }]
  }
}
